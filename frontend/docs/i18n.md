# i18n Setup Guide

The frontend uses `@ngx-translate/core` with JSON translation resources under `public/assets/i18n`.

---

## Quick Start

### In Components

```typescript
import { TranslateModule } from '@ngx-translate/core';

@Component({
  imports: [TranslateModule],
  template: `<h1>{{ 'layout.header.title' | translate }}</h1>`
})
export class MyComponent {}
```

### Programmatic Translation

```typescript
import { TranslateService } from '@ngx-translate/core';

export class MyComponent {
  private translate = inject(TranslateService);

  get title(): string {
    return this.translate.instant('layout.header.title');
  }
}
```

---

## Runtime Integration

`TranslateModule` is configured in `src/app/app.config.ts` with a JSON loader:

- translation files are loaded from `/assets/i18n/{lang}.json`
- `fallbackLang` is set to `zh`
- language selection is controlled by `LanguageService` (currently toggles between `zh` and `en`)

`LanguageService` persists the active language in `localStorage` under `app_lang`.

---

## File Structure

```text
frontend/
└── public/
    └── assets/
        └── i18n/
            ├── en.json
            └── zh.json
```

---

## Adding New Keys

1. Add the key to **both** `en.json` and `zh.json`.
2. Follow naming conventions in `../../docs/architecture/i18n-naming.md`.
3. Use structural keys (feature-based), not text-based keys.

---

## Configuration Reference

See `src/app/app.config.ts` for loader configuration and `src/app/core/services/language.service.ts` for language persistence.

---

## Maintenance

- Always add keys to **all** language files at the same time.
- Keep key structure identical across languages.
- Follow the naming rules in `../../docs/architecture/i18n-naming.md`.
- Validate JSON syntax before committing.
